{"version":3,"sources":["../../../../src/demo/app/app.service.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,UAAA,EAAW,MAAO,eAAA,CAAgB;AAO3C;IADA;QAGS,WAAM,GAAsB,EAAG,CAAC;IAoCzC,CAAC;IA/BC,sBAAW,2BAAK;QAHhB;;WAEG;aACH;YACE,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;QACD;;WAEG;aACH,UAAiB,KAAK;YACpB,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;QACzD,CAAC;;;OANA;IAQM,sBAAG,GAAV,UAAW,IAAU;QACnB;;WAEG;QACH,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;IAC1D,CAAC;IAEM,sBAAG,GAAV,UAAW,IAAY,EAAE,KAAU;QACjC;;WAEG;QACH,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;IACnC,CAAC;IAEO,yBAAM,GAAd,UAAe,MAAyB;QACtC;;WAEG;QACH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAE,MAAM,CAAE,CAAC,CAAC;IAC9C,CAAC;IArCU,QAAQ;QADpB,UAAU,EAAE;OACA,QAAQ,CAsCpB;IAAD,eAAC;CAtCD,AAsCC,IAAA;SAtCY,QAAQ","file":"app.service.js","sourceRoot":"","sourcesContent":["import { Injectable } from '@angular/core';\n\nexport type InternalStateType = {\n  [key: string]: any\n};\n\n@Injectable()\nexport class AppState {\n\n  public _state: InternalStateType = { };\n\n  /**\n   * Already return a clone of the current state.\n   */\n  public get state() {\n    return this._state = this._clone(this._state);\n  }\n  /**\n   * Never allow mutation\n   */\n  public set state(value) {\n    throw new Error('do not mutate the `.state` directly');\n  }\n\n  public get(prop?: any) {\n    /**\n     * Use our state getter for the clone.\n     */\n    const state = this.state;\n    return state.hasOwnProperty(prop) ? state[prop] : state;\n  }\n\n  public set(prop: string, value: any) {\n    /**\n     * Internally mutate our state.\n     */\n    return this._state[prop] = value;\n  }\n\n  private _clone(object: InternalStateType) {\n    /**\n     * Simple object clone.\n     */\n    return JSON.parse(JSON.stringify( object ));\n  }\n}\n"]}